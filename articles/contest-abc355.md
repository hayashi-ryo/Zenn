---
title: "AtCoder Beginner Contest 355 æŒ¯ã‚Šè¿”ã‚Š"
emoji: "ğŸ“’"
type: "idea"
topics: ["AtCoder","study","CS","ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"]
published: true
---

# AtCoder Beginner Contest 355 æŒ¯ã‚Šè¿”ã‚Š

ä¹…ã—ã¶ã‚Šã«ãƒãƒ¼ãƒãƒ£ãƒ«ã§ã¯ãªãå®Ÿæ™‚é–“ã§å‚åŠ ã—ãŸã‚³ãƒ³ãƒ†ã‚¹ãƒˆã§ã—ãŸã€‚çµæœè‡ªä½“ã¯Då•é¡Œã¾ã§å®Œç­”ã€‚ä»Šã®ç§ã®ãƒ¬ãƒ¼ãƒˆã‹ã‚‰è€ƒãˆã‚‹ã¨å¥é—˜ã ã¨æ€ãˆã¾ã™ã€‚ãã®ã†ã¡ã«Eå•é¡Œã€Få•é¡Œã¾ã§è§£ã„ã¦ã„ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

ä»¥ä¸‹ã¯ãã‚Œãã‚Œã®å•é¡Œã®æ‰€æ„Ÿã§ã™ã€‚

- A: {1,2,3}ã¨ã„ã†ã‚»ãƒƒãƒˆã«å¯¾ã—ã¦ã€å…¥åŠ›ãŒé‡è¤‡ã—ã¦ã„ã‚‹ã‹ã€åˆ¥ã€…ã®ã‚‚ã®ã§ã‚ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã ã‘ã€‚
- B: äºŒã¤ã®é…åˆ—ã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹é…åˆ—CãŒãã‚Œãã‚Œã®è¦ç´ ã‚’é †ç•ªã«æŒã¤ã‹ã‚’ç¢ºèªã™ã‚‹å•é¡Œã€‚é…åˆ—Cã¨é…åˆ—Aã®è¦ç´ ã‚’ç¢ºèªã—ã¦ã„ãã“ã¨ã§å£°çµµã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
- C: ãƒ“ãƒ³ã‚´ã‚«ãƒ¼ãƒ‰ã‚’ç”¨æ„ã—ã¦ã€ã‚¿ãƒ¼ãƒ³ã”ã¨ã«ãƒ“ãƒ³ã‚´ã‚’é”æˆã™ã‚‹ã‹ã€ã‚‚ã—ãã¯æœ€å¾Œã¾ã§é”æˆã—ãªã„ã®ã‹ã‚’ç¢ºèªã™ã‚‹å•é¡Œã€‚ç¸¦ãƒ»æ¨ªãƒ»ãªãªã‚ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ“ãƒ³ã‚´ã«ã¤ã„ã¦ä¸å¯§ã«æ•´ç†ã™ã‚‹ã“ã¨ã§å®Ÿè£…ãŒã§ãã‚‹ã€‚
- D: è¤‡æ•°ã®åŒºé–“ã«å¯¾ã—ã¦å…±é€šåŒºé–“ã‚’æŒã¤çµ„ã¿åˆã‚ã›ã®æ•°ã‚’æ•°ãˆã‚‹å•é¡Œã€‚æ–¹é‡ã¨ã—ã¦ã¯ã€ãã‚Œãã‚Œã®å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’æ¢ç´¢ã—ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªçŠ¶æ…‹ã‚’æ•°ãˆä¸Šã’ã‚‹å½¢ã§å®Ÿè£…ã‚’è¡Œã£ãŸã€‚

## [A problem](https://atcoder.jp/contests/abc355/tasks/abc355_a355_a)

2ã¤ã®å…¥åŠ›ãŒåŒä¸€ã§ã‚ã‚‹ã‹ã‚’ç¢ºèªã—ãŸä¸Šã§ã€åŒä¸€ã®å ´åˆã¯ç‰¹å®šã§ããªã„ãŸã‚-1ã‚’ã€åŒä¸€ã§ãªã„å ´åˆã¯åˆè¨ˆå€¤6ã‹ã‚‰å…¥åŠ›ã‚’å¼•ã„ãŸå€¤ã‚’å‡ºåŠ›ã™æµã“ã¨ã§æ±‚ã‚ã‚‹ç­”ãˆã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```cpp
#include <bits/stdc++.h>
using namespace std;
using ll = long long;

#define rep(i, x) for (int i = 0; i < (x); i++)

int main()
{
  int A, B;
  cin >> A >> B;
  if (A != B)
  {
    cout << 6 - A - B << endl;
  }
  else
  {
    cout << -1 << endl;
  }
  return 0;
}
```

[æå‡ºçµæœ](https://atcoder.jp/contests/abc355/submissions/53826280)

## [B problem](https://atcoder.jp/contests/abc355/tasks/abc355_b)

æ•°åˆ—A,Bã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹æ•°åˆ—Cã®è¦ç´ ãŒã€å…¥ã‚Œå­ã«ãªã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹å•é¡Œã§ã™ã€‚æ–¹é‡ã¨ã—ã¦ã¯ã€

- é…åˆ—Cã‚’ç”¨æ„ã—ã€å…¨ã¦ã®é…åˆ—ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹
- é…åˆ—Cã®è¦ç´ ã‚’æ¢ç´¢ã™ã‚‹ä¸­ã§ã€é…åˆ—Aã®è¦ç´ ãŒé€£ç¶šã™ã‚‹ã‚‚ã®ãŒã‚ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹

ã“ã¨ã§å®Ÿè£…å¯èƒ½ã§ã™ã€‚é…åˆ—Bã®è¦ç´ ã«ã¤ã„ã¦ã¯é…åˆ—Cã®ç”Ÿæˆã®ãŸã‚ã«ã ã‘åˆ©ç”¨ã™ã‚‹ãŸã‚ã€ã‚½ãƒ¼ãƒˆãªã©ã¯ä¸è¦ã§ã¯ã‚ã‚Šã¾ã™ãŒå®Ÿè£…ä¸Šã‚½ãƒ¼ãƒˆã¯ã—ã¾ã—ãŸã€‚

```cpp
#include <bits/stdc++.h>
using namespace std;
using ll = long long;

#define rep(i, x) for (int i = 0; i < (x); i++)

int main()
{
  int N, M;
  cin >> N >> M;
  vector<int> A(N), B(M), C;
  set<int> setA;
  rep(i, N)
  {
    cin >> A[i];
    setA.insert(A[i]);
    C.push_back(A[i]);
  }

  rep(i, M)
  {
    cin >> B[i];
    C.push_back(B[i]);
  }
  sort(A.begin(), A.end());
  sort(B.begin(), B.end());
  sort(C.begin(), C.end());
  string ans = "No";

  for (int i = 0; i < (int)C.size(); i++)
  {
    if (setA.count(C[i]) && setA.count(C[i - 1]))
    {
      ans = "Yes";
      break;
    }
  }

  cout << ans << endl;
  return 0;
}
```

[æå‡ºçµæœ](https://atcoder.jp/contests/abc355/submissions/53850239)

## [C problem](https://atcoder.jp/contests/abc355/tasks/abc355_c)

ã“ã®å•é¡Œã§ã¯ã€ã‚¿ãƒ¼ãƒ³ã”ã¨ã«ãƒ“ãƒ³ã‚´åˆ¤å®šã‚’å®Ÿæ–½ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚‹ã€‚ã—ã‹ã—ã€ã™ã§ã«é–‹ã‘ã‚‰ã‚Œã¦ã„ã‚‹ç•ªå·ã‚’è¨˜éŒ²ã—æ¯ã‚¿ãƒ¼ãƒ³å…¨ã¦ã®ç¸¦æ¨ªæ–œã‚ã«å¯¾ã—ã¦ãƒ“ãƒ³ã‚´åˆ¤å®šã‚’è¡Œã†ã¨TLEã¨ãªã£ã¦ã—ã¾ã†ã€‚ãã®ãŸã‚ã€ãƒ“ãƒ³ã‚´åˆ¤å®šè‡ªä½“ã‚’å°‘ã—å·¥å¤«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ä»Šå›ã®å®Ÿè£…ã§ã¯ãƒ“ãƒ³ã‚´åˆ¤å®šã‚’ä»¥ä¸‹ã®æ–¹é‡ã§è¡Œã†ã“ã¨ã¨ã—ãŸ

- ç¸¦ãƒ»æ¨ªã®åˆ¤å®š
ç¸¦ãƒ»æ¨ªã”ã¨ã®ç©ºã„ã¦ã„ã‚‹æ•°ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—(ä»Šå›ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯rowCount,colCount)ã‚’ç”¨æ„ã—ã¦ã€ã‚¿ãƒ¼ãƒ³ã”ã¨ã«ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦ã„ãã€‚ãã—ã¦ã€ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ãŸç¸¦ã€ã¾ãŸã¯æ¨ªã®é…åˆ—ã®å€¤ãŒNã¨ä¸€è‡´ã—ã¦ã„ã‚Œã°ãƒ“ãƒ³ã‚´ã¨ãªã‚‹ã€‚
- æ–œã‚ã®åˆ¤å®š
æ–œã‚ã®å ´åˆã¯é…åˆ—ã§ã¯ãªãã€å¤‰æ•°ã¨ã—ã¦å®šç¾©ã—ãŸã€‚å·¦ä¸Šã‹ã‚‰å³ä¸‹ã¸ã®æ–œã‚ã¨å³ä¸Šã‹ã‚‰å·¦ä¸‹ã¸ã®æ–œã‚ãã‚Œãã‚Œã«å¯¾ã—ã¦ã€æ¯ã‚¿ãƒ¼ãƒ³è©²å½“ã™ã‚‹å ´åˆã¯ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¦ã„ãã€‚ãã®å¾Œã€ç¸¦æ¨ªã®åˆ¤å®šã¨åŒã˜ãå¤‰æ•°ãŒNã¨ä¸€è‡´ã—ã¦ã„ã‚Œã°ãƒ“ãƒ³ã‚´ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚

ä»Šå›ã®å•é¡Œã§ã¯ã€ã€Œãƒ“ãƒ³ã‚´ã‚«ãƒ¼ãƒ‰ã®çŠ¶æ…‹ã€è‡ªä½“ã‚’é…åˆ—ã‚„å¤‰æ•°ã¨ã—ã¦ä¿æœ‰ã™ã‚‹ã®ã§ã¯ãªãã€ç¸¦æ¨ªæ–œã‚ãã‚Œãã‚ŒãŒã©ã‚Œãã‚‰ã„ç©ºã„ã¦ã„ã‚‹ã‹ã‚’ä¿æœ‰ã™ã‚‹ã“ã¨ã§è¨ˆç®—é‡ã‚‚å°‘ãªãå®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚

```cpp
#include <iostream>
#include <vector>
#include <unordered_map>
using namespace std;

int main()
{
  int N, T;
  cin >> N >> T;

  vector<int> A(T);
  for (int i = 0; i < T; ++i)
  {
    cin >> A[i];
  }

  // è¡Œã¨åˆ—ã¨å¯¾è§’ç·šã®ã‚«ã‚¦ãƒ³ãƒˆ
  vector<int> rowCount(N, 0);
  vector<int> colCount(N, 0);
  int diag1Count = 0, diag2Count = 0;

  // ãƒã‚¹ç›®ã«å¯¾å¿œã™ã‚‹è¡Œã¨åˆ—ã‚’ä¿å­˜ã™ã‚‹ãƒãƒƒãƒ—
  unordered_map<int, pair<int, int>> positionMap;
  for (int i = 0; i < N; ++i)
  {
    for (int j = 0; j < N; ++j)
    {
      int num = N * i + j + 1;
      positionMap[num] = {i, j};
    }
  }

  // å°ã‚’ã¤ã‘ã¦ãƒ“ãƒ³ã‚´ã‚’åˆ¤å®š
  for (int turn = 0; turn < T; ++turn)
  {
    int num = A[turn];
    auto pos = positionMap[num];
    int row = pos.first;
    int col = pos.second;

    // è¡Œã€åˆ—ã€å¯¾è§’ç·šã®ã‚«ã‚¦ãƒ³ãƒˆã‚’å¢—ã‚„ã™
    rowCount[row]++;
    colCount[col]++;
    if (row == col)
      diag1Count++;
    if (row + col == N - 1)
      diag2Count++;

    // ãƒ“ãƒ³ã‚´ã®åˆ¤å®š
    if (rowCount[row] == N || colCount[col] == N || diag1Count == N || diag2Count == N)
    {
      cout << turn + 1 << endl;
      return 0;
    }
  }

  // ãƒ“ãƒ³ã‚´ã‚’é”æˆã—ãªã„å ´åˆ
  cout << -1 << endl;
  return 0;
}

```

[æå‡ºçµæœ](https://atcoder.jp/contests/abc355/submissions/53867340)

## [D - Intersecting Intervals](https://atcoder.jp/contests/abc355/tasks/abc355_d)

ã“ã®å•é¡Œã¯è¤‡æ•°ã®åŒºé–“ã«å¯¾ã—ã¦ã€å…±é€šåŒºé–“ã‚’æŒã¤çµ„ã¿åˆã‚ã›ã®æ•°ã‚’æ•°ãˆã‚‹å•é¡Œã€‚å®Ÿè£…ã‚’è¡Œã†ãŸã‚ã«ä»¥ä¸‹ã®ã‚ˆã†ã«æ–¹é‡ã®æ•´ç†ã‚’è¡Œã£ãŸã€‚

**æ–¹é‡**

l,rã®å€¤ãŒéå¸¸ã«å¤§ãã„ãŸã‚ã€ãã‚Œãã‚Œã®ä½ç½®ã‚’forãƒ«ãƒ¼ãƒ—ãªã©ã§æ¢ç´¢ã—ã¦ã„ãã“ã¨ã¯è¨ˆç®—é‡ã®å•é¡Œã‹ã‚‰é›£ã—ã„ã€‚ãã®ãŸã‚ã€å…¥åŠ›ã®æƒ…å ±ã ã‘ã‚’æ•´ç†ã—ã¦å®Ÿè£…ã‚’è¡Œã†å¿…è¦ãŒã‚ç†ã¾ã™ã€‚
ä»Šå›ã¯ã€å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’ä¸€ã¤ã®é…åˆ—ã«ã¾ã¨ã‚ã¦æ ¼ç´ã€ã‚½ãƒ¼ãƒˆã—å‡¦ç†ã—ã¦ã„ãæ–¹é‡ã¨ã—ã¾ã—ãŸã€‚

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int main()
{
  int N;
  cin >> N;

  vector<pair<int, int>> intervals(N);
  for (int i = 0; i < N; ++i)
  {
    cin >> intervals[i].first >> intervals[i].second;
  }

  // åŒºé–“ã®å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’è¨˜éŒ²
  vector<pair<int, int>> events;
  for (const auto &interval : intervals)
  {
    events.emplace_back(interval.first, 1);   // å§‹ç‚¹ã‚’ +1 ã¨ã—ã¦è¨˜éŒ²
    events.emplace_back(interval.second, -1); // çµ‚ç‚¹ã‚’ -1 ã¨ã—ã¦è¨˜éŒ²
  }

  // å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’ã‚½ãƒ¼ãƒˆ
  sort(events.begin(), events.end(), [](const pair<int, int> &a, const pair<int, int> &b)
       {
        if (a.first != b.first) return a.first < b.first;
        return a.second > b.second; });
  long long intersectCount = 0;
  long long activeIntervals = 0;

  // ã‚¤ãƒ™ãƒ³ãƒˆã‚’é †ã«å‡¦ç†
  for (const auto &event : events)
  {
    if (event.second == 1)
    {
      // å§‹ç‚¹ã®å ´åˆã€ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªåŒºé–“ã®æ•°ã ã‘æ–°ã—ã„å…±é€šéƒ¨åˆ†ãŒã§ãã‚‹
      intersectCount += activeIntervals;
      activeIntervals++;
    }
    else
    {
      // çµ‚ç‚¹ã®å ´åˆã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªåŒºé–“ã®æ•°ã‚’æ¸›ã‚‰ã™
      activeIntervals--;
    }
  }

  cout << intersectCount << endl;
  return 0;
}

```

[æå‡ºçµæœ](https://atcoder.jp/contests/abc355/submissions/53877710)
